From 47bdd056119b02f4a023de581dcf23367ff65c04 Mon Sep 17 00:00:00 2001
From: Jukka Rissanen <jukka.rissanen@linux.intel.com>
Date: Fri, 1 May 2015 12:10:28 +0300
Subject: [PATCH] connman: Enable dependency tracking

The automake option --disable-dependency-tracking does not work nicely
with ConnMan 1.29 release.
The reason is ConnMan commits ac332c5d01b0737c18cb58c8ccc67cf6b0427e1d
and ea6c21b0b20f6f25b25386285d81d859dc843820 that change how and when
various .in files are generated. After those commits, the auto
generated files / directories are created during make. Earlier they
were generated by configure script.
---
 meta/recipes-connectivity/connman/connman.inc | 1 +
 1 file changed, 1 insertion(+)

diff --git a/meta/recipes-connectivity/connman/connman.inc b/meta/recipes-connectivity/connman/connman.inc
index 74b8351..2e470c8 100644
--- a/meta/recipes-connectivity/connman/connman.inc
+++ b/meta/recipes-connectivity/connman/connman.inc
@@ -28,6 +28,7 @@ EXTRA_OECONF += "\
     --disable-polkit \
     --enable-client \
     ${@bb.utils.contains('DISTRO_FEATURES', 'systemd', '--with-systemdunitdir=${systemd_unitdir}/system/', '--with-systemdunitdir=', d)} \
+    --enable-dependency-tracking \
 "
 
 PACKAGECONFIG ??= "wispr \
-- 
2.1.0

